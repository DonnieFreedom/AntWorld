# C#多态

link

多态（Polymorphism）是一个希腊词，指“多种形态”，在 C# 中具有两种类型的多态：

- ### 编译时多态：通过 C# 中的方法重载和运算符重载来实现编译时多态，也称为静态绑定或早期绑定；

- ### 运行时多态：通过方法重载实现的运行时多态，也称为动态绑定或后期绑定。

#### 编译时多态

在编译期间将函数与对象链接的机制称为早期绑定，也称为静态绑定。

C# 提供了两种技术来实现编译时多态，分别是函数重载和运算符重载

- 函数重载: 同一个作用域中, 可以定义多个同名的函数, 函数彼此间有差异, 参数个数不同或参数类型不同, **返回值类型不同除外**

```C#
using System;
namespace c.sharp
{
    class Demo
    {
        void print(int i){
            Console.WriteLine("打印 int 类型的数据：{0}", i);
        }
        void print(double d){
            Console.WriteLine("打印 double 类型的数据：{0}", d);
        }
        void print(string s){
            Console.WriteLine("打印 string 类型的数据：{0}", s);
        }
        static void Main(string[] args) 
        {
            Demo p = new Demo();
            p.print(123);
            p.print("C sharp");
            p.print(3.1415926);
        }
    }
}
```

- 运算符重载: [@37_C#运算符重载](./@37_C#运算符重载.md)

#### 运行时多态

C#可以使用abstract关键字来创建抽象类, 抽象类用于实现部分接口。 抽象类包含抽象方法, 可以派生类中实现。

抽象类的规则如下:

- 不能创建一个抽象类的实例；
- 不能在一个抽象类外部声明抽象方法；
- 抽象类不能声明密封类, 因为密封类不能被继承。在类定义时使用 sealed 关键字，可以将类声明为密封类

```C#
using System;
namespace c.sharp
{
    abstract class Shape{
        public abstract int area();
    }
    class Rectangle : Shape{
        private int width, height;
        public Rectangle(int w, int h){
            width = w;
            height = h;
        }
        public override int area(){
            return (width * height);
        }
    }
    class Demo
    {
        static void Main(string[] args) 
        {
            Rectangle r = new Rectangle(12,15);
            double a = r.area();
            Console.WriteLine("长方形的面积为： {0}",a);
            Console.ReadKey();
        }
    }
}
```



