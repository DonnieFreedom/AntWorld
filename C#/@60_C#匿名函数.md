# C#匿名函数/匿名方法

[Microsoft C# 编码约定](https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/coding-style/coding-conventions)

[Microsoft C# 参考](https://learn.microsoft.com/zh-cn/previous-versions/visualstudio/visual-studio-2012/618ayhy6(v=vs.110))

[Microsoft C#文档](https://learn.microsoft.com/zh-cn/dotnet/csharp/)

在 C# 中，可以将匿名函数简单的理解为没有名称只有函数主体的函数。

匿名函数提供了一种将代码块作为委托参数传递的技术，它是一个“内联”语句或表达式，可在任何需要委托类型的地方使用。

匿名函数可以用来初始化命名委托或传递命名委托作为方法参数。

无需在匿名函数中指定返回类型，返回值类型是从方法体内的 return 语句推断出来的。



- ### 匿名函数的语法


> 

#### 匿名函数的语法

匿名函数是通过使用 delegate 关键字创建的委托实例来声明的，委托可以通过匿名函数调用，也可以通过普通有名称的函数调用，只需要向委托对象中传递相应的方法参数即可。注意，匿名函数的主体后面需要使用`;`结尾。

```
delegate void NumberChanger(int n);
...
NumberChanger nc = delegate(int x)
{
    Console.WriteLine("Anonymous Method: {0}", x);
};
```

匿名函数的使用样例:

```C#
using System;
namespace c.sharp
{
    class Demo
    {
        delegate void NumberChanger(int n);
        static int num = 10;
        public static void AddNum(int p){
            num += p;
            Console.WriteLine("命名函数: {0}", num);
        }
        public static void MultNum(int q){
            num *= q;
            Console.WriteLine("命名函数: {0}", num);
        }
        static void Main(string[] args){
            // 使用匿名函数创建委托实例
            NumberChanger nc = delegate(int x)
            {
               Console.WriteLine("匿名函数: {0}", x);
            };
          
            // 使用匿名函数调用委托
            nc(10);
            // 使用命名函数实例化委托
            nc =  new NumberChanger(AddNum);
          
            // 使用命名函数调用委托
            nc(5);
            // 使用另一个命名函数实例化委托
            nc =  new NumberChanger(MultNum);
          
            // 使用命名函数调用委托
            nc(2);
            Console.ReadKey();
        }
    }
}
/*
匿名函数: 10
命名函数: 15
命名函数: 30
*/
```
