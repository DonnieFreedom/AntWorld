# C#目录操作

[Microsoft C# 编码约定](https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/coding-style/coding-conventions)

[Microsoft C# 参考](https://learn.microsoft.com/zh-cn/previous-versions/visualstudio/visual-studio-2012/618ayhy6(v=vs.110))

[Microsoft C#文档](https://learn.microsoft.com/zh-cn/dotnet/csharp/)

在C# 中, 使用各种目录和文件相关的类可以操作目录和文件，比如 DirectoryInfo 类和 FileInfo 类。



- ### DirectoryInfo 类

- ### FileInfo 类


> 

#### DirectoryInfo 类

DirectoryInfo 类派生自 FileSystemInfo 类，其中提供了各种用于创建、移动、浏览目录和子目录的方法。该类不能被继承。[DirectoryInfo](https://learn.microsoft.com/zh-cn/dotnet/api/system.io.directoryinfo?view=net-7.0)

DirectoryInfo 类中常用的属性和方法如下:

| 属性           | 描述                               |
| -------------- | ---------------------------------- |
| Attributes     | 获取当前文件或目录的属性           |
| CreationTime   | 获取当前文件或目录的创建时间       |
| Exists         | 获取一个表示目录是否存在的布尔值   |
| Extension      | 获取表示文件存在的字符串           |
| FullName       | 获取目录或文件的完整路径           |
| LastAccessTime | 获取当前文件或目录最后被访问的时间 |
| Name           | 获取该 DirectoryInfo 实例的名称    |

| 方法                                                 | 描述                                                         |
| ---------------------------------------------------- | ------------------------------------------------------------ |
| public void Create()                                 | 创建一个目录                                                 |
| public DirectoryInfo CreateSubdirectory(string path) | 在指定的路径上创建子目录，指定的路径可以是相对于 DirectoryInfo 类的实例的路径 |
| public override void Delete()                        | 如果为空的，则删除该 DirectoryInfo                           |
| public DirectoryInfo[] GetDirectories()              | 返回当前目录的子目录                                         |
| public FileInfo[] GetFiles()                         | 从当前目录返回文件列表                                       |



#### FileInfo 类

FileInfo 类派生自 FileSystemInfo 类，其中提供了用于创建、复制、删除、移动、打开文件的属性和方法。与 DirectoryInfo 类相同，FileInfo 类也不能被继承。[FileInfo类](https://learn.microsoft.com/zh-cn/dotnet/api/system.io.fileinfo?view=net-7.0)

 FileInfo 类中一些常用的属性和方法如下：

| 属性           | 描述                             |
| -------------- | -------------------------------- |
| Attributes     | 获取当前文件的属性               |
| CreationTime   | 获取当前文件的创建时间           |
| Directory      | 获取文件所属目录的一个实例       |
| Exists         | 获取一个表示文件是否存在的布尔值 |
| Extension      | 获取表示文件存在的字符串         |
| FullName       | 获取文件的完整路径               |
| LastAccessTime | 获取当前文件最后被访问的时间     |
| LastWriteTime  | 获取文件最后被写入的时间         |
| Length         | 获取当前文件的大小，以字节为单位 |
| Name           | 获取文件的名称                   |

| 方法                                                         | 描述                                                         |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| public StreamWriter AppendText()                             | 创建一个 StreamWriter，追加文本到由 FileInfo 的实例表示的文件中 |
| public FileStream Create()                                   | 创建一个文件                                                 |
| public override void Delete()                                | 永久删除一个文件                                             |
| public void MoveTo(string destFileName)                      | 移动一个指定的文件到一个新的位置，提供选项来指定新的文件名   |
| public FileStream Open(FileMode mode)                        | 以指定的模式打开一个文件                                     |
| public FileStream Open(FileMode mode,FileAccess access)      | 以指定的模式，使用 read、write 或 read/write 访问，来打开一个文件 |
| public FileStream Open(FileMode mode,FileAccess access,FileShare share) | 以指定的模式，使用 read、write 或 read/write 访问，以及指定的分享选项，来打开一个文件 |
| public FileStream OpenRead()                                 | 创建一个只读的 FileStream                                    |
| public FileStream OpenWrite()                                | 创建一个只写的 FileStream                                    |

```C#
using System;
using System.IO;
namespace c.sharp
{
    class Demo
    {
        static void Main(string[] args) 
        {
            // 创建一个 DirectoryInfo 对象
            DirectoryInfo mydir = new DirectoryInfo(@"d:\code");
            // 获取目录中的文件以及它们的名称和大小
            FileInfo[] f = mydir.GetFiles();
            foreach (FileInfo file in f)
            {
                Console.WriteLine("文件名称：{0} 大小：{1}", file.Name, file.Length);
            }
            Console.ReadKey();
        }
    }
}
/*
文件名称：文件名 大小：592
*/
```

