# C#结构体

在 C# 中，结构体也被称为结构类型, 一种可封装数据和相关功能的值类型, 语法上结构体与类相似, 都可以用来封装数据, 都可以包含成员属性和成员方法

### 定义结构体(使用struct 关键字)

```C#
struct Books {
    public string name;
    public int id;
};
```

设计结构体需要注意以下几点

- 每个结构体都可以被看作是一种新的数据类型
- 每个结构体中都已经默认创建了一个隐式的、无参数的构造函数, 因此不能为结构体声明无参数的构造函数

- 不能在声明成员属性时对它们进行初始化，静态属性和常量除外；
- 不能在结构体中声明析构函数。
- 结构体不能从其他类或结构体中继承，也不能作为类的基础类型，但是结构类型可以实现接口；

- 结构体的构造函数必须初始化该结构体中的所有成员属性；

在 C# 中结构体具有以下功能：

- 结构体中可以具有方法、字段、索引、属性、运算符方法和事件；
- 结构体中可以定义构造函数，但不能定义析构函数，需要注意的是，定义的构造函数不能没有参数，因为没有参数的构造函数是 C# 默认自动定义的，而且不能更改；
- 与类不同，结构体不能继承其他结构体或类；
- 结构体不能用作其他结构体或类的基础结构；
- 一种结构体可以实现一个或多个接口；
- 结构体成员不能被设定为 abstract、virtual 或 protected；
- 与类不同，结构体可以不用 New 操作符来实例化，当使用 New 操作符来实例化结构体时会自动调用结构体中的构造函数；
- 如果不使用 New 操作符来实例化结构体，结构体对象中的字段将保持未分配状态，并且在所有字段初始化之前无法使用该结构体实例。

与类的主要区别如下所示：

- 类是引用类型，结构体是值类型；
- 结构体不支持继承，但可以实现接口；
- 结构体中不能声明默认的构造函数。

```
struct Books {
    public string name;
    public int id;
};

Books book1;    // 声明 Books 类型的 book1
book1.name = "C#"
book1.id = 1;
```

```C#
using System;
namespace c.sharp
{
	struct Books {
        public string name;
        public int id;

        public void getValue(string n, int id){
            name = n;
            id = id;
    }
        public void disPlay(){
            Console.WriteLine("Name：{0}", name);
            Console.WriteLine("Id：{0}", id);
        }
    }
    class Demo
    {
        static void Main(string[] args) 
        { 
            Books book1 = new Books();  // 实例化 Books 结构体
            // 定义 book1 的属性
            book1.getValue("C#", 1);
            // 输出 book1 的属性信息
            book1.disPlay();
            
            Console.ReadKey();
        }
    }
}
```

