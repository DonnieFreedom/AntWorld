# C# 运算符

[Microsoft C# 编码约定](https://learn.microsoft.com/zh-cn/dotnet/csharp/fundamentals/coding-style/coding-conventions)

[Microsoft C# 参考](https://learn.microsoft.com/zh-cn/previous-versions/visualstudio/visual-studio-2012/618ayhy6(v=vs.110))

[Microsoft C#文档](https://learn.microsoft.com/zh-cn/dotnet/csharp/)

C# 中内置了丰富的运算符，大致可以分为如下几类：

- ### 算术运算符；
- ### 关系运算符；
- ### 逻辑运算符；
- ### 位运算符；
- ### 赋值运算符；
- ### 其它运算符。

> 

| 算术运算符 | 描述（假设变量 A = 10，变量 B = 20）               | 实例           |
| ---------- | -------------------------------------------------- | -------------- |
| +          | 加法运算符，对运算符左右两边的操作数执行加法操作   | A + B 值为 30  |
| -          | 减法运算符，对运算符左右两边的操作数执行减法操作   | A - B 值为 -10 |
| *          | 乘法运算符，将运算符左右两边的操作数相乘           | A * B 值为 200 |
| /          | 除法运算符，使用运算符左边的操作数除以右边的操作数 | B / A 值为 2   |
| %          | 取模运算符，整除后的余数                           | B % A 值为 0   |
| ++         | 自增运算符，整数值增加 1                           | A++ 值为 11    |
| --         | 自减运算符，整数值减少 1                           | A-- 值为 9     |

```
int a =10;
int b;
b = ++a; //先a+1后赋值
b = a++; //先赋值后a+1
```

| 关系运算符 | 描述(假设变量 A = 10，变量 B = 20)                           | 实例            |
| ---------- | ------------------------------------------------------------ | --------------- |
| ==         | 检查两个操作数的值是否相等，如果相等则条件为真               | (A == B) 不为真 |
| !=         | 检查两个操作数的值是否相等，如果不相等则条件为真             | (A != B) 为真   |
| >          | 检查左操作数的值是否大于右操作数的值，如果是则条件为真       | (A > B) 不为真  |
| <          | 检查左操作数的值是否小于右操作数的值，如果是则条件为真       | (A < B) 为真    |
| >=         | 检查左操作数的值是否大于或等于右操作数的值，如果是则条件为真 | (A >= B) 不为真 |
| <=         | 检查左操作数的值是否小于或等于右操作数的值，如果是则条件为真 | (A <= B) 为真   |

| 逻辑运算符 | 描述（假设变量 A 的布尔值是 true，变量 B 的布尔值是 false）  | 实例            |
| ---------- | ------------------------------------------------------------ | --------------- |
| &&         | 逻辑与运算符，如果两个操作数都为真，则结果为真               | (A && B) 为假   |
| \|\|       | 逻辑或运算符，如果两个操作数中有任意一个为真，则结果为真     | (A \|\| B) 为真 |
| !          | 逻辑非运算符，用来对操作数的逻辑状态取反，如果结果为真，那么取反后则为假 | !(A && B) 为真  |



**位运算符**用来对二进制位进行操作，＆、| 和 ^ 的真值表如下：

| p    | q    | p & q | p \| q | p ^ q |
| ---- | ---- | ----- | ------ | ----- |
| 0    | 0    | 0     | 0      | 0     |
| 0    | 1    | 0     | 1      | 1     |
| 1    | 1    | 1     | 1      | 0     |
| 1    | 0    | 0     | 1      | 1     |

| 位运算符 | 描述（假设变量 A = 60，变量 B = 13）                         | 实例                               |
| -------- | ------------------------------------------------------------ | ---------------------------------- |
| &        | 按位与，对两个操作数的二进制位进行按位与运算，即当两个数对应的二进制位均为 1 时，结果位为 1，否则为 0 | (A & B) 将得到 12，即为 0000 1100  |
| \|       | 按位或，对两个操作数的二进制位进行按位或运算，即当两个数对应的二进制位有一个为 1 时，结果就为 1，否则为 0 | (A \| B) 将得到 61，即为 0011 1101 |
| ^        | 按位异或，对两个操作数的二进制位进行按位异或运算，即当两个数对应的二进制位不同时，结果为 1，否则为 0 | (A ^ B) 将得到 49，即为 0011 0001  |
| ~        | 按位取反，该运算符具有"翻转"位效果，即 0 变成 1，1 变成 0，包括符号位 | (~A ) 将得到 -61，即为 1100 0011   |
| <<       | 二进制左移运算符，左操作数的值向左移动右操作数指定的位数     | A << 2 将得到 240，即为 1111 0000  |
| >>       | 二进制右移运算符，左操作数的值向右移动右操作数指定的位数     | A >> 2 将得到 15，即为 0000 1111   |

| 赋值运算符 | 描述                                                         | 实例                            |
| ---------- | ------------------------------------------------------------ | ------------------------------- |
| =          | 最简单的赋值运算符，把右边操作数的值赋给左边的操作数         | C = A + B 将把 A + B 的值赋给 C |
| +=         | 加且赋值运算符，把右边操作数加上左边操作数的结果赋值给左边操作数 | C += A 相当于 C = C + A         |
| -=         | 减且赋值运算符，把左边操作数减去右边操作数的结果赋值给左边操作数 | C -= A 相当于 C = C - A         |
| *=         | 乘且赋值运算符，把右边操作数乘以左边操作数的结果赋值给左边操作数 | C *= A 相当于 C = C * A         |
| /=         | 除且赋值运算符，把左边操作数除以右边操作数的结果赋值给左边操作数 | C /= A 相当于 C = C / A         |
| %=         | 求模且赋值运算符，求两个操作数的模并赋值给左边操作数         | C %= A 相当于 C = C % A         |
| <<=        | 左移且赋值运算符                                             | C <<= 2 等同于 C = C << 2       |
| >>=        | 右移且赋值运算符                                             | C >>= 2 等同于 C = C >> 2       |
| &=         | 按位与且赋值运算符                                           | C &= 2 等同于 C = C & 2         |
| ^=         | 按位异或且赋值运算符                                         | C ^= 2 等同于 C = C ^ 2         |
| \|=        | 按位或且赋值运算符                                           | C \|= 2 等同于 C = C \| 2       |

| 其他运算符 | 描述                                   | 实例                                                         |
| ---------- | -------------------------------------- | ------------------------------------------------------------ |
| sizeof()   | 返回数据类型的大小                     | sizeof(int)，将返回 4                                        |
| typeof()   | 返回 class 的类型                      | typeof(StreamReader);                                        |
| &          | 返回变量的地址                         | &a 将得到变量的实际地址                                      |
| *          | 变量的指针                             | *a; 将指向一个变量。                                         |
| ? :        | 三元（三目）运算符                     | a>b ? X : Y; 如果条件为真，则值为 X : 否则值为 Y             |
| is         | 判断对象是否为某一类型                 | if( Ford is Car) // 检查 Ford 是否是 Car 类的一个对象        |
| as         | 强制转换，即使转换失败也不会抛出异常。 | Object obj = new StringReader("Hello"); StringReader r = obj as StringReader; |

| 优先级 | 运算符 | 名称或含义 | 使用形式 | 结合方向 | 说明 |
| ------ | ------ | ---------- | -------- | -------- | ---- |

| 1    | []    | 数组下标         | 数组名[整型表达式]        | 左到右 |      |
| ---- | ----- | ---------------- | ------------------------- | ------ | ---- |
|      | ()    | 圆括号           | （表达式）/函数名(形参表) |        |      |
|      | **.** | 成员选择（对象） | 对象.成员名               |        |      |
|      | ->    | 成员选择（指针） | 对象指针->成员名          |        |      |

| 2    | -      | 负号运算符     | -表达式                   | 右到左 | 单目运算符 |
| ---- | ------ | -------------- | ------------------------- | ------ | ---------- |
|      | (type) | 强制类型转换   | (数据类型)表达式          |        |            |
|      | ++     | 自增运算符     | ++变量名/变量名++         |        | 单目运算符 |
|      | --     | 自减运算符     | --变量名/变量名--         |        | 单目运算符 |
|      | *      | 取值运算符     | *指针表达式               |        | 单目运算符 |
|      | &      | 取地址运算符   | &左值表达式               |        | 单目运算符 |
|      | !      | 逻辑非运算符   | !表达式                   |        | 单目运算符 |
|      | ~      | 按位取反运算符 | ~表达式                   |        | 单目运算符 |
|      | sizeof | 长度运算符     | sizeof表达式/sizeof(类型) |        |            |

| 3    | /    | 除           | 表达式/表达式         | 左到右 | 双目运算符 |
| ---- | ---- | ------------ | --------------------- | ------ | ---------- |
|      | *    | 乘           | 表达式*表达式         |        | 双目运算符 |
|      | %    | 余数（取模） | 整型表达式%整型表达式 |        | 双目运算符 |

| 4    | +; - | 加   | 表达式+表达式 | 左到右 | 双目运算符 |
| ---- | ---- | ---- | ------------- | ------ | ---------- |

| 5    | <<; >> | 左移 | 表达式<<表达式 | 左到右 | 双目运算符 |
| ---- | ------ | ---- | -------------- | ------ | ---------- |

| 6    | >; >=;<;<= | 大于 | 表达式>表达式 | 左到右 | 双目运算符 |
| ---- | ---------- | ---- | ------------- | ------ | ---------- |

| 7    | ==;!= | 等于 | 表达式==表达式 | 左到右 | 双目运算符 |
| ---- | ----- | ---- | -------------- | ------ | ---------- |

| 8    | &    | 按位与     | 整型表达式&整型表达式   | 左到右 | 双目运算符 |
| ---- | ---- | ---------- | ----------------------- | ------ | ---------- |
| 9    | ^    | 按位异或   | 整型表达式^整型表达式   | 左到右 | 双目运算符 |
| 10   | \|   | 按位或     | 整型表达式\|整型表达式  | 左到右 | 双目运算符 |
| 11   | &&   | 逻辑与     | 表达式&&表达式          | 左到右 | 双目运算符 |
| 12   | \|\| | 逻辑或     | 表达式\|\|表达式        | 左到右 | 双目运算符 |
| 13   | ?:   | 条件运算符 | 表达式1?表达式2:表达式3 | 右到左 | 三目运算符 |

双目运算符: 运算所需变量为两个的运算符

`x?a:b?c:d`

所谓的结合性就是一种计算方式而已; 对于*赋值运算符*来说它是自右向左的，也就是说，是从‘=’后面算到前面去。

| 14   | =    | 赋值运算符     | 变量=表达式   | 右到左 |      |
| ---- | ---- | -------------- | ------------- | ------ | ---- |
|      | /=   | 除后赋值       | 变量/=表达式  |        |      |
|      | *=   | 乘后赋值       | 变量*=表达式  |        |      |
|      | %=   | 取模后赋值     | 变量%=表达式  |        |      |
|      | +=   | 加后赋值       | 变量+=表达式  |        |      |
|      | -=   | 减后赋值       | 变量-=表达式  |        |      |
|      | <<=  | 左移后赋值     | 变量<<=表达式 |        |      |
|      | >>=  | 右移后赋值     | 变量>>=表达式 |        |      |
|      | &=   | 按位与后赋值   | 变量&=表达式  |        |      |
|      | ^=   | 按位异或后赋值 | 变量^=表达式  |        |      |
|      | \|=  | 按位或后赋值   | 变量\|=表达式 |        |      |

| 15   | ,    | 逗号运算符 | 表达式,表达式,… | 左到右 | 从左向右顺序运算 |
| ---- | ---- | ---------- | --------------- | ------ | ---------------- |

记忆优先级顺序:

```
特殊运算符 (), [], ., ->
>>>(type)和sizeof, 以及单目运算符
	-, ++, --, *, &, !, ~
>>> 双目运算符:
	>>> *,/,%
	>>> +,-
	>>> <<,>>
	>>> >,>=,<,<=
	>>> ==,!=
	>>> & >>> ^ >>> | 
	>>> && >>> | >>> ?:
>>> 赋值运算符及简写的赋值运算符:
	=, /=,*=,%= ...等
>>> ,
```







